////////////////////////////////////////////////////////////////////////////////
///
/// @file   $FILE$
/// @author $AUTHOR$
/// @date   $DATE$
/// @brief  Source code file for defining hardware operation.   
///
////////////////////////////////////////////////////////////////////////////////

// *****************************************************************************
// ************************** System Include Files *****************************
// *****************************************************************************
#include <xc.h>
#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>
#include <math.h>

// *****************************************************************************
// ************************** User Include Files *******************************
// *****************************************************************************

// *****************************************************************************
// ************************** Defines ******************************************
// *****************************************************************************

// *****************************************************************************
// ************************** Global Variable Definitions **********************
// *****************************************************************************

// *****************************************************************************
// ************************** File-Scope Variable Definitions ******************
// *****************************************************************************

// *****************************************************************************
// ************************** Function Prototypes ******************************
// *****************************************************************************
static long double UtilPow( uint16_t var, uint8_t pow );

// *****************************************************************************
// ************************** Global Functions *********************************
// *****************************************************************************
int16_t UtilPolyMul( uint16_t var, int32_t coeff[], uint8_t coeff_len )
{
    long double value;
    uint8_t coeff_idx;
    
    for ( coeff_idx  = 0;
          coeff_idx <= coeff_len;
          coeff_idx++ )
    {
        value = UtilPow( var, coeff_idx ) * coeff[ coeff_idx ];
    }
    
    return ( (int16_t) value );
}

// *****************************************************************************
// ************************** Static Functions *********************************
// *****************************************************************************
static long double UtilPow( uint16_t var, uint8_t pow )
{
    long double result;
    
    result = powl( (long double) var, (long double) pow );
    
    return result;
}